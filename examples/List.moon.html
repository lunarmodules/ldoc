<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>LDoc documentation</title>
    <link rel="stylesheet" href="../ldoc_new.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>LDoc</h1>





<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/colon.lua.html">colon.lua</a></li>
  <li><a href="../examples/four.lua.html">four.lua</a></li>
  <li><a href="../examples/three.lua.html">three.lua</a></li>
  <li><a href="../examples/multiple.lua.html">multiple.lua</a></li>
  <li><a href="../examples/mylib.c.html">mylib.c</a></li>
  <li><strong>List.moon</strong></li>
</ul>
<h2>Programs</h2>
<ul class="nowrap">
  <li><a href="../index.html">ldoc</a></li>
</ul>
<h2>Manual</h2>
<ul class="nowrap">
  <li><a href="../manual/doc.md.html">doc</a></li>
</ul>

</div>

<div id="content">

    <h2>List.moon</h2>
<pre>
<span class="comment">----
</span><span class="comment">-- A list class that wraps a table
</span><span class="comment">-- @classmod List
</span>import insert,concat,remove from <span class="global">table</span>

class List
    <span class="comment">--- constructor passed a table `t`, which can be `nil`.
</span>    new: (t) =&gt;
        @ls = t <span class="keyword">or</span> {}

    <span class="comment">--- append to list.
</span>    add: (item) =&gt;
        insert @ls,item

    <span class="comment">--- insert `item` at `idx`
</span>    insert: (idx,item) =&gt;
        insert @ls,idx,item

    <span class="comment">--- remove item at `idx`
</span>    remove: (idx) =&gt; remove @ls,idx

    <span class="comment">--- length of list
</span>    len: =&gt; #@ls

    <span class="comment">--- string representation
</span>    __tostring: =&gt; <span class="string">'['</span>..(concat @ls,<span class="string">','</span>)..<span class="string">']'</span>

    <span class="comment">--- return idx of first occurrence of `item`
</span>    find: (item) =&gt;
        <span class="keyword">for</span> i = <span class="number">1</span>,#@ls
            <span class="keyword">if</span> @ls[i] == item <span class="keyword">then</span> <span class="keyword">return</span> i

    <span class="comment">--- remove item by value
</span>    remove_value: (item) =&gt;
        idx = self\find item
        self\remove idx <span class="keyword">if</span> idx

    <span class="comment">--- remove a list of items
</span>    remove_values: (items) =&gt;
        <span class="keyword">for</span> item <span class="keyword">in</span> *items <span class="keyword">do</span> self\remove_value item

    <span class="comment">--- create a sublist of items indexed by a table `indexes`
</span>    index_by: (indexes) =&gt;
        List [@ls[idx] <span class="keyword">for</span> idx <span class="keyword">in</span> *indexes]

    <span class="comment">--- make a copy of this list
</span>    copy: =&gt; List [v <span class="keyword">for</span> v <span class="keyword">in</span> *@ls]

    <span class="comment">--- append items from the table or list `list`
</span>    extend: (list) =&gt;
        other = <span class="keyword">if</span> list.__class == List <span class="keyword">then</span> list.ls <span class="keyword">else</span> list
        <span class="keyword">for</span> v <span class="keyword">in</span> *other <span class="keyword">do</span> self\add v
        self

    <span class="comment">--- concatenate two lists, giving a new list
</span>    __concat: (l1,l2) -&gt; l1\copy!\extend l2

    <span class="comment">--- an iterator over all items
</span>    iter: =&gt;
        i,t,n = <span class="number">0</span>,@ls,#@ls
        -&gt;
            i += <span class="number">1</span>
            <span class="keyword">if</span> i &lt;= n <span class="keyword">then</span> t[i]

<span class="keyword">return</span> List</pre>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2023-05-02 10:09:31 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
